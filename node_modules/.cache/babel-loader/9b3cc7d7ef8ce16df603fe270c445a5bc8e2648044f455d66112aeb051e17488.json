{"ast":null,"code":"import React from'react';import{motion}from'framer-motion';import{Download,MessageCircle}from'lucide-react';import{PDFDownloadButton}from'./PDFGenerator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Results=_ref=>{let{recommendations,yieldData,soilType,cropType,cropTypes,soilTypes}=_ref;const hasRecommendations=recommendations&&recommendations.length>0;const hasYieldData=yieldData&&(yieldData.current||yieldData.potential);const getCropTypeName=id=>{const crop=cropTypes.find(c=>c.id.toString()===id);return crop?crop.name:id;};const getSoilTypeName=id=>{const soil=soilTypes.find(s=>s.id===id);return soil?soil.name:id;};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-8\",children:\"Your Optimization Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-6 rounded-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4 text-green-800\",children:\"Selected Parameters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-700\",children:\"Soil Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:getSoilTypeName(soilType)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-green-700\",children:\"Crop Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:getCropTypeName(cropType)})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-3 gap-6 mb-8\",children:hasRecommendations?recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.1},className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:rec.product}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:rec.description}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600 font-medium\",children:rec.dosage})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"col-span-3 text-center text-gray-500\",children:\"No recommendations available for this combination.\"})}),hasYieldData&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-4\",children:\"Yield Comparison\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Current Yield\"}),/*#__PURE__*/_jsxs(\"span\",{children:[yieldData.current,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded-full\",children:/*#__PURE__*/_jsx(motion.div,{initial:{width:0},animate:{width:\"\".concat(yieldData.current,\"%\")},className:\"h-full bg-yellow-500 rounded-full\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Potential Yield\"}),/*#__PURE__*/_jsxs(\"span\",{children:[yieldData.potential,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded-full\",children:/*#__PURE__*/_jsx(motion.div,{initial:{width:0},animate:{width:\"\".concat(yieldData.potential,\"%\")},className:\"h-full bg-green-600 rounded-full\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.05},whileTap:{scale:0.95},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-600 text-white px-6 py-3 rounded-full flex items-center gap-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(Download,{size:20}),/*#__PURE__*/_jsx(PDFDownloadButton,{recommendations:recommendations,yieldData:yieldData,soilType:soilType,cropType:cropType,cropTypes:cropTypes,soilTypes:soilTypes})]})}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"bg-white border-2 border-green-600 text-green-600 px-6 py-3 rounded-full flex items-center gap-2\",children:[/*#__PURE__*/_jsx(MessageCircle,{size:20}),\" Consult Expert\"]})]})]});};","map":{"version":3,"names":["React","motion","Download","MessageCircle","PDFDownloadButton","jsx","_jsx","jsxs","_jsxs","Results","_ref","recommendations","yieldData","soilType","cropType","cropTypes","soilTypes","hasRecommendations","length","hasYieldData","current","potential","getCropTypeName","id","crop","find","c","toString","name","getSoilTypeName","soil","s","div","initial","opacity","animate","className","children","map","rec","index","y","transition","delay","product","description","dosage","width","concat","whileHover","scale","whileTap","size","button"],"sources":["/home/sofiane/Desktop/Crop Nutrition Optimizer/frontend/src/components/Results.tsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { BarChart3, Download, MessageCircle } from 'lucide-react';\nimport { Recommendation, YieldData, CropType, SoilType } from '../types';\nimport { PDFDownloadButton } from './PDFGenerator';\n\ninterface ResultsProps extends React.PropsWithChildren {\n  recommendations: Recommendation[];\n  yieldData: YieldData | null;\n  soilType: string;\n  cropType: string;\n  cropTypes: CropType[];\n  soilTypes: SoilType[];\n}\n\nexport const Results: React.FC<ResultsProps> = ({ recommendations, yieldData, soilType, cropType, cropTypes, soilTypes }) => {\n  const hasRecommendations = recommendations && recommendations.length > 0;\n  const hasYieldData = yieldData && (yieldData.current || yieldData.potential);\n\n  const getCropTypeName = (id: string) => {\n    const crop = cropTypes.find(c => c.id.toString() === id);\n    return crop ? crop.name : id;\n  };\n\n  const getSoilTypeName = (id: string) => {\n    const soil = soilTypes.find(s => s.id === id);\n    return soil ? soil.name : id;\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      className=\"container mx-auto px-4 py-8\"\n    >\n      <h2 className=\"text-3xl font-bold mb-8\">Your Optimization Results</h2>\n\n      {/* Soil and Crop Information */}\n      <div className=\"bg-green-50 p-6 rounded-xl shadow-lg mb-8\">\n        <h3 className=\"text-xl font-semibold mb-4 text-green-800\">Selected Parameters</h3>\n        <div className=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <span className=\"font-medium text-green-700\">Soil Type:</span>\n            <span className=\"ml-2\">{getSoilTypeName(soilType)}</span>\n          </div>\n          <div>\n            <span className=\"font-medium text-green-700\">Crop Type:</span>\n            <span className=\"ml-2\">{getCropTypeName(cropType)}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Recommendations */}\n      <div className=\"grid md:grid-cols-3 gap-6 mb-8\">\n        {hasRecommendations ? (\n          recommendations.map((rec, index) => (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.1 }}\n              className=\"bg-white p-6 rounded-xl shadow-lg\"\n            >\n              <h3 className=\"font-semibold mb-2\">{rec.product}</h3>\n              <p className=\"text-gray-600 mb-4\">{rec.description}</p>\n              <div className=\"text-green-600 font-medium\">{rec.dosage}</div>\n            </motion.div>\n          ))\n        ) : (\n          <div className=\"col-span-3 text-center text-gray-500\">\n            No recommendations available for this combination.\n          </div>\n        )}\n      </div>\n\n      {/* Yield Comparison */}\n      {hasYieldData && (\n        <div className=\"bg-white p-6 rounded-xl shadow-lg mb-8\">\n          <h3 className=\"font-semibold mb-4\">Yield Comparison</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <div className=\"flex justify-between mb-1\">\n                <span>Current Yield</span>\n                <span>{yieldData.current}%</span>\n              </div>\n              <div className=\"h-4 bg-gray-200 rounded-full\">\n                <motion.div\n                  initial={{ width: 0 }}\n                  animate={{ width: `${yieldData.current}%` }}\n                  className=\"h-full bg-yellow-500 rounded-full\"\n                />\n              </div>\n            </div>\n            <div>\n              <div className=\"flex justify-between mb-1\">\n                <span>Potential Yield</span>\n                <span>{yieldData.potential}%</span>\n              </div>\n              <div className=\"h-4 bg-gray-200 rounded-full\">\n                <motion.div\n                  initial={{ width: 0 }}\n                  animate={{ width: `${yieldData.potential}%` }}\n                  className=\"h-full bg-green-600 rounded-full\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Action Buttons */}\n      <div className=\"flex flex-wrap gap-4\">\n        <motion.div\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n        >\n          <div className=\"bg-green-600 text-white px-6 py-3 rounded-full flex items-center gap-2 cursor-pointer\">\n            <Download size={20} />\n            <PDFDownloadButton\n              recommendations={recommendations}\n              yieldData={yieldData}\n              soilType={soilType}\n              cropType={cropType}\n              cropTypes={cropTypes}\n              soilTypes={soilTypes}\n            />\n          </div>\n        </motion.div>\n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          className=\"bg-white border-2 border-green-600 text-green-600 px-6 py-3 rounded-full flex items-center gap-2\"\n        >\n          <MessageCircle size={20} /> Consult Expert\n        </motion.button>\n      </div>\n    </motion.div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}