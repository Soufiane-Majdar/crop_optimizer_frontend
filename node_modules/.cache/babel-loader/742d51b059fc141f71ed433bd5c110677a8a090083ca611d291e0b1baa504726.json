{"ast":null,"code":"import _objectSpread from\"/home/sofiane/Desktop/Crop Nutrition Optimizer/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{Page,Text,View,Document,StyleSheet,PDFDownloadLink}from'@react-pdf/renderer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const styles=StyleSheet.create({page:{flexDirection:'column',backgroundColor:'#FFFFFF',padding:30},section:{margin:10,padding:10,flexGrow:1},title:{fontSize:24,marginBottom:20,color:'#166534'// green-800\n},subtitle:{fontSize:18,marginBottom:10,marginTop:20,color:'#166534'},recommendation:{marginBottom:15,padding:10,backgroundColor:'#f0fdf4',// green-50\nborderRadius:5},productName:{fontSize:14,fontWeight:'bold',marginBottom:5},description:{fontSize:12,marginBottom:5},dosage:{fontSize:12,color:'#16a34a'// green-600\n},yieldData:{marginTop:10,padding:10,backgroundColor:'#f0fdf4',borderRadius:5},yieldText:{fontSize:12,marginBottom:5},footer:{position:'absolute',bottom:30,left:30,right:30,textAlign:'center',color:'#666666',fontSize:10}});const PDFDocument=_ref=>{let{recommendations,yieldData,soilType,cropType,cropTypes,soilTypes}=_ref;const getCropTypeName=id=>{const crop=cropTypes.find(c=>c.id.toString()===id);return crop?crop.name:id;};const getSoilTypeName=id=>{const soil=soilTypes.find(s=>s.id===id);return soil?soil.name:id;};const formatPercentage=value=>{return value?\"\".concat(value,\"%\"):'N/A';};return/*#__PURE__*/_jsx(Document,{children:/*#__PURE__*/_jsxs(Page,{size:\"A4\",style:styles.page,children:[/*#__PURE__*/_jsxs(View,{style:styles.section,children:[/*#__PURE__*/_jsx(Text,{style:styles.title,children:\"Crop Nutrition Recommendations\"}),/*#__PURE__*/_jsx(Text,{style:styles.subtitle,children:\"Soil and Crop Information\"}),/*#__PURE__*/_jsxs(Text,{style:styles.description,children:[\"Soil Type: \",getSoilTypeName(soilType)]}),/*#__PURE__*/_jsxs(Text,{style:styles.description,children:[\"Crop Type: \",getCropTypeName(cropType)]}),/*#__PURE__*/_jsx(Text,{style:styles.subtitle,children:\"Recommendations\"}),recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(View,{style:styles.recommendation,children:[/*#__PURE__*/_jsx(Text,{style:styles.productName,children:rec.product}),/*#__PURE__*/_jsx(Text,{style:styles.description,children:rec.description}),/*#__PURE__*/_jsxs(Text,{style:styles.dosage,children:[\"Recommended Dosage: \",rec.dosage]})]},index)),yieldData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{style:styles.subtitle,children:\"Yield Analysis\"}),/*#__PURE__*/_jsxs(View,{style:styles.yieldData,children:[/*#__PURE__*/_jsxs(Text,{style:styles.yieldText,children:[\"Current Yield: \",formatPercentage(yieldData.current)]}),/*#__PURE__*/_jsxs(Text,{style:styles.yieldText,children:[\"Potential Yield: \",formatPercentage(yieldData.potential)]}),/*#__PURE__*/_jsxs(Text,{style:styles.yieldText,children:[\"Potential Improvement: \",yieldData.potential&&yieldData.current?\"\".concat((yieldData.potential-yieldData.current).toFixed(1),\"%\"):'N/A']})]})]})]}),/*#__PURE__*/_jsxs(Text,{style:styles.footer,children:[\"Generated by Crop Nutrition Optimizer - \",new Date().toLocaleDateString()]})]})});};export const PDFDownloadButton=props=>/*#__PURE__*/_jsx(PDFDownloadLink,{document:/*#__PURE__*/_jsx(PDFDocument,_objectSpread({},props)),fileName:\"crop-recommendations-\".concat(props.soilType,\"-\").concat(props.cropType,\".pdf\"),className:\"text-white hover:text-white/90 transition-colors\",children:_ref2=>{let{loading}=_ref2;return loading?'Generating PDF...':'Download PDF';}});","map":{"version":3,"names":["React","Page","Text","View","Document","StyleSheet","PDFDownloadLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","styles","create","page","flexDirection","backgroundColor","padding","section","margin","flexGrow","title","fontSize","marginBottom","color","subtitle","marginTop","recommendation","borderRadius","productName","fontWeight","description","dosage","yieldData","yieldText","footer","position","bottom","left","right","textAlign","PDFDocument","_ref","recommendations","soilType","cropType","cropTypes","soilTypes","getCropTypeName","id","crop","find","c","toString","name","getSoilTypeName","soil","s","formatPercentage","value","concat","children","size","style","map","rec","index","product","current","potential","toFixed","Date","toLocaleDateString","PDFDownloadButton","props","document","_objectSpread","fileName","className","_ref2","loading"],"sources":["/home/sofiane/Desktop/Crop Nutrition Optimizer/frontend/src/components/PDFGenerator.tsx"],"sourcesContent":["import React from 'react';\nimport { Page, Text, View, Document, StyleSheet, PDFDownloadLink } from '@react-pdf/renderer';\nimport { Recommendation, YieldData, CropType, SoilType } from '../types';\n\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'column',\n    backgroundColor: '#FFFFFF',\n    padding: 30,\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1,\n  },\n  title: {\n    fontSize: 24,\n    marginBottom: 20,\n    color: '#166534', // green-800\n  },\n  subtitle: {\n    fontSize: 18,\n    marginBottom: 10,\n    marginTop: 20,\n    color: '#166534',\n  },\n  recommendation: {\n    marginBottom: 15,\n    padding: 10,\n    backgroundColor: '#f0fdf4', // green-50\n    borderRadius: 5,\n  },\n  productName: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    marginBottom: 5,\n  },\n  description: {\n    fontSize: 12,\n    marginBottom: 5,\n  },\n  dosage: {\n    fontSize: 12,\n    color: '#16a34a', // green-600\n  },\n  yieldData: {\n    marginTop: 10,\n    padding: 10,\n    backgroundColor: '#f0fdf4',\n    borderRadius: 5,\n  },\n  yieldText: {\n    fontSize: 12,\n    marginBottom: 5,\n  },\n  footer: {\n    position: 'absolute',\n    bottom: 30,\n    left: 30,\n    right: 30,\n    textAlign: 'center',\n    color: '#666666',\n    fontSize: 10,\n  },\n});\n\ninterface PDFDocumentProps {\n  recommendations: Recommendation[];\n  yieldData: YieldData | null;\n  soilType: string;\n  cropType: string;\n  cropTypes: CropType[];\n  soilTypes: SoilType[];\n}\n\nconst PDFDocument: React.FC<PDFDocumentProps> = ({\n  recommendations,\n  yieldData,\n  soilType,\n  cropType,\n  cropTypes,\n  soilTypes,\n}) => {\n  const getCropTypeName = (id: string) => {\n    const crop = cropTypes.find(c => c.id.toString() === id);\n    return crop ? crop.name : id;\n  };\n\n  const getSoilTypeName = (id: string) => {\n    const soil = soilTypes.find(s => s.id === id);\n    return soil ? soil.name : id;\n  };\n\n  const formatPercentage = (value: number | undefined) => {\n    return value ? `${value}%` : 'N/A';\n  };\n\n  return (\n    <Document>\n      <Page size=\"A4\" style={styles.page}>\n        <View style={styles.section}>\n          <Text style={styles.title}>Crop Nutrition Recommendations</Text>\n          \n          <Text style={styles.subtitle}>Soil and Crop Information</Text>\n          <Text style={styles.description}>Soil Type: {getSoilTypeName(soilType)}</Text>\n          <Text style={styles.description}>Crop Type: {getCropTypeName(cropType)}</Text>\n\n          <Text style={styles.subtitle}>Recommendations</Text>\n          {recommendations.map((rec, index) => (\n            <View key={index} style={styles.recommendation}>\n              <Text style={styles.productName}>{rec.product}</Text>\n              <Text style={styles.description}>{rec.description}</Text>\n              <Text style={styles.dosage}>Recommended Dosage: {rec.dosage}</Text>\n            </View>\n          ))}\n\n          {yieldData && (\n            <>\n              <Text style={styles.subtitle}>Yield Analysis</Text>\n              <View style={styles.yieldData}>\n                <Text style={styles.yieldText}>\n                  Current Yield: {formatPercentage(yieldData.current)}\n                </Text>\n                <Text style={styles.yieldText}>\n                  Potential Yield: {formatPercentage(yieldData.potential)}\n                </Text>\n                <Text style={styles.yieldText}>\n                  Potential Improvement: {yieldData.potential && yieldData.current ? \n                    `${(yieldData.potential - yieldData.current).toFixed(1)}%` : 'N/A'}\n                </Text>\n              </View>\n            </>\n          )}\n        </View>\n        <Text style={styles.footer}>\n          Generated by Crop Nutrition Optimizer - {new Date().toLocaleDateString()}\n        </Text>\n      </Page>\n    </Document>\n  );\n};\n\nexport const PDFDownloadButton: React.FC<PDFDocumentProps> = (props) => (\n  <PDFDownloadLink\n    document={<PDFDocument {...props} />}\n    fileName={`crop-recommendations-${props.soilType}-${props.cropType}.pdf`}\n    className=\"text-white hover:text-white/90 transition-colors\"\n  >\n    {({ loading }) => loading ? 'Generating PDF...' : 'Download PDF'}\n  </PDFDownloadLink>\n); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}